<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="02iyrJHUIUAb9wY6LY4iVchsJ3M2wM3uN5xwbXCyqx0" />
    <title>go-tw-his-parser - å°ç£é†«ç™‚è³‡æ–™è§£æå™¨, A high-performance Golang parser for Taiwan NHI VPN declaration format | å°ç£å¥ä¿ç”³å ±æ ¼å¼è§£æå™¨</title>
    <meta name="description" content="å°ç£é†«ç™‚è³‡è¨Šç³»çµ± (HIS) è³‡æ–™è§£æå™¨ï¼Œæ”¯æ´å¥ä¿ç½²ã€è€€è–ã€å±•æœ›ã€çœ‹è¨ºå¤§å¸«ç­‰å» å•†æ ¼å¼ã€‚A high-performance Golang parser for Taiwan NHI (National Health Insurance) VPN declaration format. Handles legacy HIS data, IC card uploads, and prescription decoding. å°ç£å¥ä¿ç”³å ±æ ¼å¼è§£æå™¨ï¼Œæ”¯æ´å¥ä¿é†«ç™‚è³‡è¨Šç³»çµ±ã€é†«ä»¤æ¸…å–®ã€å¥ä¿å¡ä¸Šå‚³æ ¼å¼ã€‚">
    <meta name="keywords" content="golang, his, nhi, taiwan, parser, å¥ä¿ç”³å ±, é†«ç™‚è³‡è¨Šç³»çµ±, Golang HIS, å¥ä¿ç”³å ±æ ¼å¼è§£æ">
    <!-- çµ±ä¸€ä¸»é¡Œæ¨£å¼ (2025-12-04) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Saki-tw/go-tw-his-parser@main/static/css/theme.css">
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareSourceCode",
  "name": "go-tw-his-parser",
  "programmingLanguage": "Go",
  "description": "A high-performance parser for Taiwan NHI VPN declaration format. å°ç£å¥ä¿ç”³å ±æ ¼å¼è§£æå™¨ï¼Œæ”¯æ´ IC å¡ä¸Šå‚³æ ¼å¼èˆ‡é†«ä»¤æ¸…å–®ã€‚",
  "keywords": "golang, his, nhi, taiwan, parser, å¥ä¿ç”³å ±, é†«ç™‚è³‡è¨Šç³»çµ±",
  "codeRepository": "https://github.com/Saki-tw/go-tw-his-parser",
  "author": {
    "@type": "Person",
    "name": "Saki"
  }
}
    </script>
    <style>
        :root {
            --purple: #c6a4cf;
            --blue: #89c3eb;
            --bg: #faf8fb;
            --text: #333;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft JhengHei", sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            text-align: center;
            padding: 60px 0;
            border-bottom: 3px solid var(--purple);
            margin-bottom: 40px;
        }

        h1 {
            color: var(--purple);
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: var(--blue);
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .badges {
            margin-top: 20px;
        }

        .badges img {
            margin: 0 5px;
        }

        .section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        h2 {
            color: var(--purple);
            border-bottom: 2px solid var(--purple);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .feature {
            text-align: center;
            padding: 20px;
            background: var(--bg);
            border-radius: 8px;
        }

        .feature-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .feature h3 {
            color: var(--purple);
            margin-bottom: 8px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background: var(--bg);
            color: var(--purple);
        }

        .btn {
            display: inline-block;
            padding: 15px 30px;
            background: var(--purple);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: bold;
            margin: 10px;
            transition: background 0.2s;
        }

        .btn:hover {
            background: #b794c0;
        }

        .btn-secondary {
            background: var(--blue);
        }

        .btn-secondary:hover {
            background: #7ab3db;
        }

        .cta {
            text-align: center;
            padding: 40px 0;
        }

        .privacy-notice {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            color: #2e7d32;
        }

        footer {
            text-align: center;
            padding: 40px;
            color: #666;
            border-top: 1px solid #eee;
            margin-top: 40px;
        }

        footer a {
            color: var(--purple);
            text-decoration: none;
        }

        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: "Consolas", "Monaco", monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>go-tw-his-parser</h1>
            <p class="subtitle">å°ç£é†«ç™‚è³‡è¨Šç³»çµ± (HIS) è³‡æ–™è§£æå™¨ â€” Golang HIS Parser | å°ç£å¥ä¿ç”³å ±æ ¼å¼è§£æ</p>
            <div class="badges">
                <img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License">
                <img src="https://img.shields.io/badge/Go-1.21+-00ADD8.svg" alt="Go Version">
                <img src="https://img.shields.io/badge/Maintained%20by-Saki%20Studio-c6a4cf" alt="Saki Studio">
            </div>
        </header>

        <div class="section">
            <h2>å°ˆæ¡ˆç°¡ä»‹</h2>
            <p><strong>A high-performance Golang parser for Taiwan NHI VPN declaration format.</strong></p>
            <p>é€™æ˜¯ä¸€å€‹å°ˆç‚ºè™•ç†å°ç£å¸¸è¦‹é†«ç™‚è»Ÿé«”ï¼ˆå¦‚è€€è–ã€å±•æœ›ã€çœ‹è¨ºå¤§å¸«ç­‰ï¼‰åŒ¯å‡ºè³‡æ–™æ‰€è¨­è¨ˆçš„ Go èªè¨€è§£æåº«ã€‚å®ƒæ—¨åœ¨è§£æ±ºå¥ä¿ç”³å ±æ ¼å¼å°é–‰ã€HIS è³‡æ–™æ··äº‚ä¸”ç¼ºä¹æ¨™æº–åŒ–çš„ç—›é»ï¼Œæä¾›é–‹ç™¼è€…ä¸€å€‹ä¹¾æ·¨ã€å¼·å‹åˆ¥çš„çµ±ä¸€ä»‹é¢ï¼Œæ”¯æ´å¥ä¿ IC å¡ä¸Šå‚³æ ¼å¼èˆ‡ VPN ç”³å ±æª”è§£æã€‚</p>
        </div>

        <div class="section">
            <h2>åŠŸèƒ½ç‰¹è‰²</h2>
            <div class="features">
                <div class="feature">
                    <div class="feature-icon">ğŸ“¦</div>
                    <h3>ä¸€éµå®‰è£</h3>
                    <p>é¦–æ¬¡åŸ·è¡Œè‡ªå‹•å®‰è£ï¼Œå»ºç«‹æ¡Œé¢æ·å¾‘</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ğŸ”„</div>
                    <h3>è‡ªå‹•æ›´æ–°</h3>
                    <p>èƒŒæ™¯æª¢æŸ¥æ–°ç‰ˆæœ¬ï¼Œä¸€éµå‡ç´š</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ğŸ”</div>
                    <h3>è‡ªå‹•ç·¨ç¢¼åµæ¸¬</h3>
                    <p>Big5 / UTF-8 è‡ªå‹•è¾¨è­˜ï¼Œå‘Šåˆ¥äº‚ç¢¼</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ğŸ“…</div>
                    <h3>æ°‘åœ‹å¹´è½‰æ›</h3>
                    <p>1140315 â†’ 2025-03-15 è‡ªå‹•è½‰æ›</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ğŸ’Š</div>
                    <h3>æ…¢ç®‹è­˜åˆ¥</h3>
                    <p>è‡ªå‹•åˆ¤æ–·æ…¢æ€§è™•æ–¹ç®‹èˆ‡é ˜è—¥æ¬¡æ•¸</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ğŸ­</div>
                    <h3>å» å•†è¾¨è­˜</h3>
                    <p>æ ¹æ“šå…§å®¹ç‰¹å¾µè‡ªå‹•åˆ¤æ–· HIS å» å•†</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>æ”¯æ´å» å•†</h2>
            <table>
                <thead>
                    <tr>
                        <th>å» å•†</th>
                        <th>æ”¯æ´æ ¼å¼</th>
                        <th>èªªæ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>å¥ä¿ç½²æ¨™æº–</td>
                        <td>XML, CSV</td>
                        <td>æ¯æ—¥ä¸Šå‚³æª”ã€æœˆç”³å ±æª”</td>
                    </tr>
                    <tr>
                        <td>è€€è– HIS</td>
                        <td>XML, CSV, DAT, TXT</td>
                        <td>å®Œæ•´æ”¯æ´å„ç¨®åŒ¯å‡ºæ ¼å¼</td>
                    </tr>
                    <tr>
                        <td>å±•æœ› HIS</td>
                        <td>XML, CSV</td>
                        <td>å¸¸è¦‹çš„è¨ºæ‰€ç³»çµ±</td>
                    </tr>
                    <tr>
                        <td>çœ‹è¨ºå¤§å¸«</td>
                        <td>XML, CSV, TXT</td>
                        <td>æ”¯æ´ pipe åˆ†éš”æ ¼å¼</td>
                    </tr>
                    <tr>
                        <td>é€šç”¨æ ¼å¼</td>
                        <td>CSV, TXT</td>
                        <td>æ¨™æº–é€—è™Ÿåˆ†éš”æª”æ¡ˆ</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>éš±ç§ä¿è­·</h2>
            <div class="privacy-notice">
                <p>ğŸ”’ <strong>æœ¬æ©Ÿè§£æ</strong> â€” é†«ç™‚è³‡æ–™ä¸ä¸Šå‚³ã€ä¸å„²å­˜</p>
                <p>èº«åˆ†è­‰è™Ÿç¢¼è‡ªå‹•é®è”½é¡¯ç¤º</p>
                <p style="font-size: 0.9em; margin-top: 10px; color: #555;">è‡ªå‹•æ›´æ–°åƒ…é€£æ¥ GitHub API æª¢æŸ¥ç‰ˆæœ¬ï¼Œä¸å‚³é€ä»»ä½•ä½¿ç”¨è€…è³‡æ–™</p>
            </div>
        </div>

        <!-- WASM Demo å€å¡Š -->
        <div class="section" id="demo-section" style="background: linear-gradient(135deg, #faf8fb 0%, #f0e6f4 100%);">
            <h2>ğŸ§ª ç·šä¸Šè©¦ç©</h2>
            <p style="margin-bottom: 15px;">
                <strong>ä¸ç”¨ä¸‹è¼‰ã€ä¸ç”¨å®‰è£</strong> â€” æŠŠä½ æ‰‹ä¸Šé‚£ä»½äº‚ä¸ƒå…«ç³Ÿçš„å¥ä¿ç”³å ±æ–‡å­—æª”è²¼é€²ä¾†ï¼ŒæŒ‰ä¸€ä¸‹æŒ‰éˆ•ï¼Œç¬é–“è®Šæˆæ¼‚äº®çš„ JSONã€‚
            </p>
            <p style="font-size: 0.9em; color: #666; margin-bottom: 20px;">
                é€™å€‹ Demo ä½¿ç”¨ <strong>WebAssembly</strong> æŠ€è¡“ï¼Œè§£æå™¨ç›´æ¥åœ¨ä½ çš„ç€è¦½å™¨è£¡åŸ·è¡Œã€‚<br>
                è³‡æ–™ä¸æœƒä¸Šå‚³åˆ°ä»»ä½•ä¼ºæœå™¨ â€” ä½ çš„ç—…æ‚£è³‡æ–™ï¼Œåªæœ‰ä½ çš„é›»è…¦çŸ¥é“ã€‚
            </p>

            <div id="wasm-status" style="padding: 10px; border-radius: 6px; margin-bottom: 15px; background: #fff3cd; color: #856404;">
                â³ æ­£åœ¨è¼‰å…¥è§£æå¼•æ“ (ç´„ 3.5MB)...
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <label style="font-weight: bold; color: var(--purple);">è¼¸å…¥ï¼ˆè²¼ä¸Š HIS åŒ¯å‡ºè³‡æ–™ï¼‰</label>
                    <textarea id="input-data" placeholder="T,1140101,01,A123456789,ç‹å°æ˜,65,M,0,1,1,,1140101,08,1,02,...
D,1,01,AC12345100,è—¥å“åç¨±,1.0,28,QD,PC,å£æœ..." style="width: 100%; height: 300px; margin-top: 8px; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-family: Consolas, Monaco, monospace; font-size: 12px; resize: vertical;"></textarea>
                    <div style="margin-top: 10px;">
                        <button id="parse-btn" onclick="parseData()" disabled style="padding: 12px 24px; background: var(--purple); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; opacity: 0.5;">
                            âœ¨ è§£ææˆ JSON
                        </button>
                        <button onclick="loadSampleData()" style="padding: 12px 24px; background: var(--blue); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-left: 10px;">
                            ğŸ“‹ è¼‰å…¥ç¯„ä¾‹è³‡æ–™
                        </button>
                    </div>
                </div>
                <div>
                    <label style="font-weight: bold; color: var(--purple);">è¼¸å‡ºï¼ˆçµæ§‹åŒ– JSONï¼‰</label>
                    <div id="output-summary" style="margin-top: 8px; padding: 10px; background: #e8f5e9; border-radius: 6px; display: none;">
                        <span id="summary-text"></span>
                    </div>
                    <pre id="output-data" style="width: 100%; height: 280px; margin-top: 8px; padding: 12px; background: #1e1e1e; color: #d4d4d4; border-radius: 8px; font-family: Consolas, Monaco, monospace; font-size: 11px; overflow: auto; white-space: pre-wrap;">// è§£æçµæœæœƒé¡¯ç¤ºåœ¨é€™è£¡</pre>
                </div>
            </div>
        </div>

        <div class="cta">
            <a href="https://github.com/Saki-tw/go-tw-his-parser/releases" class="btn">ä¸‹è¼‰åŸ·è¡Œæª”</a>
            <a href="https://github.com/Saki-tw/go-tw-his-parser" class="btn btn-secondary">æŸ¥çœ‹åŸå§‹ç¢¼</a>
        </div>

        <div class="section">
            <h2>å¿«é€Ÿé–‹å§‹</h2>
            <p><strong>æ–¹å¼ä¸€ï¼šä¸‹è¼‰åŸ·è¡Œæª”ï¼ˆæ¨è–¦ï¼‰</strong></p>
            <p>å¾ <a href="https://github.com/Saki-tw/go-tw-his-parser/releases">Releases</a> ä¸‹è¼‰å°æ‡‰å¹³å°çš„åŸ·è¡Œæª”ï¼Œé›™æ“Šå³å¯ä½¿ç”¨ã€‚</p>
            <table style="margin: 15px 0; font-size: 0.9em;">
                <tr><th>å¹³å°</th><th>å®‰è£ä½ç½®</th><th>æ·å¾‘</th></tr>
                <tr><td>Windows</td><td><code>%LOCALAPPDATA%\HIS Parser\</code></td><td>é–‹å§‹é¸å–® + æ¡Œé¢</td></tr>
                <tr><td>macOS</td><td><code>~/Applications/HIS Parser.app</code></td><td>å•Ÿå‹•å°</td></tr>
                <tr><td>Linux</td><td><code>~/.local/share/his-parser/</code></td><td>æ‡‰ç”¨ç¨‹å¼é¸å–®</td></tr>
            </table>
            <p style="font-size: 0.85em; color: #666;">Windows ç„¡éœ€ç®¡ç†å“¡æ¬Šé™ï¼Œä¸æœƒå½ˆå‡º UAC å°è©±æ¡†</p>
            <br>
            <p><strong>æ–¹å¼äºŒï¼šGo ç¨‹å¼åº«</strong></p>
            <pre><code>go get github.com/Saki-tw/go-tw-his-parser</code></pre>
        </div>

        <div class="section" style="background: #fff3cd; border: 1px solid #ffc107; border-radius: 8px;">
            <p style="color: #856404; font-size: 0.95em;">
                âš ï¸ <strong>Help Wanted</strong>: æ­¤å°ˆæ¡ˆç›®å‰åŸºæ–¼å¥ä¿ç½²è¦æ ¼æ›¸é–‹ç™¼ï¼Œå°šæœªåœ¨çœŸå¯¦ç¡¬é«”ç’°å¢ƒå¤§è¦æ¨¡æ¸¬è©¦ã€‚å¦‚æœä½ æ‰‹é‚Šæœ‰è®€å¡æ©Ÿæˆ–æƒææ§ã€æˆ–æ ¹æœ¬å°±æ˜¯è—¥å±€ï¼Œæ­¡è¿æä¾›å›å ±æ¸¬è©¦çµæœï¼ŒE-mail æˆ–è‡‰æ›¸éƒ½èƒ½è¯çµ¡åˆ°æˆ‘ï¼
            </p>
        </div>

        <div class="section" style="background: #faf8fb; border: 1px solid #eee;">
            <p style="color: #888; font-size: 0.9em; margin-bottom: 10px;">
                æœ¬å°ˆæ¡ˆè„«èƒè‡ª <a href="https://saki-studio.com.tw/saki-pharmacy-os/" style="color: var(--purple);">Saki Pharmacy OS</a> å…§éƒ¨ä½¿ç”¨çš„è³‡æ–™è™•ç†æ¨¡çµ„ã€‚æ—¢ç„¶é€™éƒ¨åˆ†åªæ˜¯æ ¼å¼è½‰æ›çš„è‹¦å·¥ï¼Œä¸å¦‚é–‹æºå‡ºä¾†è®“æœ‰ç›¸åŒéœ€æ±‚çš„äººçœå»é‡è¤‡é€ è¼ªå­çš„éº»ç…©ã€‚
            </p>
            <p style="color: #aaa; font-size: 0.85em;">
                æ„Ÿè¬å¦™æ³•ç„¡é‚Šé›·å°„è“®èŠ±å®—åœ¨è‰±å›°æ™‚åˆ»å¯„ä¾†çš„ç³–èˆ‡ç±³ ğŸ™
            </p>
        </div>

        <footer>
            <p>Â© 2025 <a href="https://saki-studio.com.tw">Saki Studio</a></p>
            <p>MIT License</p>
        </footer>
    </div>

    <!-- WASM è¼‰å…¥ -->
    <script src="wasm_exec.js"></script>
    <script>
        // ç¯„ä¾‹è³‡æ–™
        const sampleData = `T,1140315,01,A123456789,ç‹å°æ˜,65,M,0,1,1,,1140315,08,1,02,
D,1,01,AC12345100,AMLODIPINE 5MG,1.0,28,QD,PC,å£æœ
D,1,02,AC23456100,METFORMIN 500MG,2.0,28,BID,PC,å£æœ
D,1,03,AC34567100,ASPIRIN 100MG,1.0,28,QD,PC,å£æœ
T,1140315,02,B234567890,æå°è¯,58,F,0,1,1,,1140315,01,1,01,
D,2,01,AC45678100,LISINOPRIL 10MG,1.0,14,QD,AC,å£æœ
D,2,02,AC56789100,OMEPRAZOLE 20MG,1.0,14,QD,AC,å£æœ`;

        // è¼‰å…¥ç¯„ä¾‹è³‡æ–™
        function loadSampleData() {
            document.getElementById('input-data').value = sampleData;
        }

        // è§£æè³‡æ–™
        function parseData() {
            const input = document.getElementById('input-data').value;
            const outputEl = document.getElementById('output-data');
            const summaryEl = document.getElementById('output-summary');
            const summaryText = document.getElementById('summary-text');

            if (!input.trim()) {
                outputEl.textContent = '// è«‹å…ˆè¼¸å…¥æˆ–è²¼ä¸Šè³‡æ–™';
                summaryEl.style.display = 'none';
                return;
            }

            try {
                const result = parseHISData(input, 'input.txt');

                if (result.success) {
                    outputEl.textContent = result.data;
                    summaryEl.style.display = 'block';
                    summaryText.innerHTML = `âœ… è§£ææˆåŠŸï¼æ‰¾åˆ° <strong>${result.summary.patients}</strong> ä½ç—…æ‚£ã€<strong>${result.summary.prescriptions}</strong> ç­†è™•æ–¹`;
                } else {
                    outputEl.textContent = '// è§£æå¤±æ•—: ' + result.error;
                    summaryEl.style.display = 'none';
                }
            } catch (e) {
                outputEl.textContent = '// ç™¼ç”ŸéŒ¯èª¤: ' + e.message;
                summaryEl.style.display = 'none';
            }
        }

        // åˆå§‹åŒ– WASM
        async function initWasm() {
            const statusEl = document.getElementById('wasm-status');
            const parseBtn = document.getElementById('parse-btn');

            try {
                const go = new Go();
                const result = await WebAssembly.instantiateStreaming(
                    fetch('parser.wasm'),
                    go.importObject
                );
                go.run(result.instance);

                // ç­‰å¾… WASM å°±ç·’
                await new Promise(resolve => {
                    const check = () => {
                        if (window.wasmReady) resolve();
                        else setTimeout(check, 50);
                    };
                    check();
                });

                statusEl.innerHTML = 'âœ… è§£æå¼•æ“å·²å°±ç·’ï¼';
                statusEl.style.background = '#d4edda';
                statusEl.style.color = '#155724';
                parseBtn.disabled = false;
                parseBtn.style.opacity = '1';
                parseBtn.style.cursor = 'pointer';

            } catch (e) {
                statusEl.innerHTML = 'âŒ è¼‰å…¥å¤±æ•—: ' + e.message + '<br><small>è«‹ç¢ºèªç€è¦½å™¨æ”¯æ´ WebAssembly</small>';
                statusEl.style.background = '#f8d7da';
                statusEl.style.color = '#721c24';
            }
        }

        // é é¢è¼‰å…¥å¾Œåˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initWasm);
    </script>
</body>
</html>
